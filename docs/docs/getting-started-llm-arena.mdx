---
id: getting-started-llm-arena
title: LLM Arena Evaluation
sidebar_label: LLM Arena
---

import { Timeline, TimelineItem } from "@site/src/components/Timeline";
import NavigationCards from "@site/src/components/NavigationCards";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import VideoDisplayer from "@site/src/components/VideoDisplayer";

Learn how to evaluate different versions of your LLM app using LLM Arena-as-a-Judge in `deepeval`, a comparison-based LLM eval.

## Overview

Instead of comparing LLM outputs using a single-output LLM-as-a-Judge method as seen in previous sections, you can also compare n-pairwise test cases to find the best version of your LLM app. This method although does not provide numerical scores, allows you to more reliably choose the "winning" LLM output for a given set of inputs and outputs.

**In this 5 min quickstart, you'll learn how to:**

- Setup an LLM arena
- Use Arena G-Eval to pick the best performing LLM app

## Prerequisites

- Install `deepeval`
- A Confident AI API key (recommended). Sign up for one [here](https://app.confident-ai.com)

:::info
Confident AI allows you to view and share your testing reports. Set your API key in the CLI:

```bash
CONFIDENT_API_KEY="confident_us..."
```

:::

## Setup LLM Arena

In `deepeval`, arena test cases are used to compare different versions of your LLM app to see which one performs better. Each test case is an arena containing different contestants as different versions of your LLM app which are evaluated based on their corresponding `LLMTestCase`

:::note

`deepeval` provides a wide selection of LLM models that you can easily choose from and run evaluations with.

<Tabs>

<TabItem value="openai" label="OpenAI">

```python
from deepeval.metrics import ArenaGEval

task_completion_metric = ArenaGEval(model="gpt-4.1")
```

</TabItem>

<TabItem value="anthropic" label="Anthropic">

```python
from deepeval.metrics import ArenaGEval
from deepeval.models import AnthropicModel

model = AnthropicModel("claude-3-7-sonnet-latest")
task_completion_metric = ArenaGEval(model=model)
```

</TabItem>

<TabItem value="gemini" label="Gemini">

```python
from deepeval.metrics import ArenaGEval
from deepeval.models import GeminiModel

model = GeminiModel("gemini-2.5-flash")
task_completion_metric = ArenaGEval(model=model)
```

</TabItem>

<TabItem value="azure-openai" label="Ollama">

```python
from deepeval.metrics import ArenaGEval
from deepeval.models import OllamaModel

model = OllamaModel("deepseek-r1")
task_completion_metric = ArenaGEval(model=model)
```

</TabItem>

<TabItem value="grok" label="Grok">

```python
from deepeval.metrics import ArenaGEval
from deepeval.models import GrokModel

model = GrokModel("grok-4-0709")
task_completion_metric = ArenaGEval(model=model)
```

</TabItem>

<TabItem value="azure" label="Azure OpenAI">

```python
from deepeval.metrics import ArenaGEval
from deepeval.models import AzureOpenAIModel

model = AzureOpenAIModel(
    model_name="gpt-4.1",
    deployment_name="Test Deployment",
    azure_openai_api_key="Your Azure OpenAI API Key",
    openai_api_version="2025-01-01-preview",
    azure_endpoint="https://example-resource.azure.openai.com/",
    temperature=0
)
task_completion_metric = ArenaGEval(model=model)
```

</TabItem>

<TabItem value="amazon-bedrock" label="Amazon Bedrock">

```python
from deepeval.metrics import ArenaGEval
from deepeval.models import AmazonBedrockModel

model = AmazonBedrockModel(
    model_id="anthropic.claude-3-opus-20240229-v1:0",
    temperature=0
)
task_completion_metric = ArenaGEval(model=model)
```

</TabItem>

<TabItem value="vertex-ai" label="Vertex AI">

```python
from deepeval.metrics import ArenaGEval
from deepeval.models import GeminiModel

model = GeminiModel(
    model_name="gemini-1.5-pro",
    project="Your Project ID",
    location="us-central1",
    temperature=0
)
task_completion_metric = ArenaGEval(model=model)
```

</TabItem>

</Tabs>
:::

<Timeline>

<TimelineItem title="Create an arena test case">

Create an `ArenaTestCase` by passing a dictionary of contestants with version names as keys and their corresponding `LLMTestCase` as values.

```python title="main.py"
from deepeval.test_case import ArenaTestCase, LLMTestCase

test_case = ArenaTestCase(
    contestants={
        "Version 1": LLMTestCase(
            input='Who wrote the novel "1984"?',
            actual_output="George Orwell",
        ),
        "Version 2": LLMTestCase(
            input='Who wrote the novel "1984"?',
            actual_output='"1984" was written by George Orwell.',
        ),
        "Version 3": LLMTestCase(
            input='Who wrote the novel "1984"?',
            actual_output="That dystopian masterpiece was penned by George Orwell ðŸ“š",
        ),
        "Version 4": LLMTestCase(
            input='Who wrote the novel "1984"?',
            actual_output="George Orwell is the brilliant mind behind the novel '1984'.",
        ),
    },
)
```

You can learn more about `LLMTestCase` [here](https://deepeval.com/docs/evaluation-test-cases).

</TimelineItem>

<TimelineItem title="Define arena metric">

The [`ArenaGEval`](https://deepeval.com/docs/metrics-arena-g-eval) metric is the only metric that is compatible with `ArenaTestCase`. It picks a winner among the contestants based on the criteria defined.

```python
from deepeval.metrics import ArenaGEval
from deepeval.test_case import LLMTestCaseParams

arena_geval = ArenaGEval(
    name="Friendly",
    criteria="Choose the winner of the more friendly contestant based on the input and actual output",
    evaluation_params=[
        LLMTestCaseParams.INPUT,
        LLMTestCaseParams.ACTUAL_OUTPUT,
    ]
)
```

</TimelineItem>

</Timeline>

## Run Your First Arena Evals

Now that you have created an arena with contestants and defined a metric, you can run evals to compare the contestants and pick the winner.

<Timeline>

<TimelineItem title="Run an evaluation">

You can run arena evals by using the `compare()` function.

```python {3,11} title="main.py"
from deepeval.test_case import ArenaTestCase, LLMTestCase, LLMTestCaseParams
from deepeval.metrics import ArenaGEval
from deepeval import compare

test_case = ArenaTestCase(
    contestants={...}, # Use the same pairs you've created before
)

arena_geval = ArenaGEval(...) # Use the same metric you've created before

compare(test_cases=[test_case], metric=arena_geval)
```

You can now run this python file to get your results:

```bash title="bash"
python main.py
```

This should let you see the results of the arena as shown below:

```text
Counter({'Version 3': 1})
```

ðŸŽ‰ðŸ¥³ **Congratulations!** You have just ran your first LLM arena-based evaluation. Here's what happened:

- When you call `compare()`, `deepeval` loops through each `ArenaTestCase`
- For each test case, `deepeval` uses the `ArenaGEval` metric to pick the "winner"
- To make the arena unbiased, `deepeval` masks the names of each contestant and randomizes their positions
- In the end, you get the number of "wins" each contestant got as the final output.

Unlike single-output LLM-as-a-Judge (which is everything but LLM arena evals), the concept of a "passing" test case does not exist for arena evals.

</TimelineItem>

<TimelineItem title="View on Confident AI (recommended)">

If you've set your `CONFIDENT_API_KEY`, your arena comparisons will automatically appear as an experiment on [Confident AI](https://app.confident-ai.com), the DeepEval platform.

<VideoDisplayer
  src="https://deepeval-docs.s3.us-east-1.amazonaws.com/getting-started%3Aarena-evals%3Aexperiment.mp4"
  label="Experiments on Confident AI"
/>

:::tip
If you haven't logged in, you can still upload the test run to Confident AI from local cache:

```bash
deepeval view
```

:::

</TimelineItem>

</Timeline>

## Next Steps

Now that you have run your first Arena evals, you should:

1. **Customize your metrics**: You can change the criteria of your metric to be more specific to your use-case.
2. **Prepare a dataset**: If you don't have one, [generate one](/docs/synthesizer-introduction) as a starting point to store your inputs as goldens.

The arena metric is only used for picking winners among the contestants, it's not used for evaluating the answers themselves. To evaluate your LLM application on specific use cases you can read the other quickstarts here:

<NavigationCards
  columns={3}
  items={[
    {
      title: "AI Agents",
      icon: "Bot",
      listDescription: [
        "Setup LLM tracing",
        "Test end-to-end task completion",
        "Evaluate individual components",
      ],
      to: "/docs/getting-started-agents",
    },
    {
      title: "RAG",
      icon: "FileSearch",
      listDescription: [
        "Evaluate RAG end-to-end",
        "Test retriever and generator separately",
        "Multi-turn RAG evals",
      ],
      to: "/docs/getting-started-rag",
    },
    {
      title: "Chatbots",
      icon: "MessagesSquare",
      listDescription: [
        "Setup multi-turn test cases",
        "Evaluate turns in a conversation",
        "Simulate user interactions",
      ],
      to: "/docs/getting-started-chatbots",
    },
  ]}
/>
